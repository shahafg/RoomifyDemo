<div class="container">
    <h1>Rooms</h1>
    <table class="rooms-table" border="1">
        <thead>
            <tr>
                <th *ngIf="isAdmin">ID</th>
                <th>Name</th>
                <th>Type</th>
                <th>Building</th>
                <th>Floor</th>
                <th>Capacity</th>
                <th>Status</th>
                <th>Accessible</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let room of rooms">
                <td *ngIf="isAdmin">{{ room.getId() }}</td>
                <td>{{ room.getName() }}</td>
                <td>{{ getRoomType(room) }}</td>
                <td>{{ room.getBuilding() }}</td>
                <td>{{ room.getFloor() }}</td>
                <td>{{ room.getCapacity() }}</td>
                <td>{{ room.getStatus() == 1 ? 'Unavailable' : 'Available' }}</td>
                <td>{{ room.isAccessible() ? 'Yes' : 'No' }}</td>
                <td>
                    <button 
                        class="schedule-btn"
                        (click)="viewSchedule(room.getId())"
                        title="View Room Schedule">
                        ðŸ“… Schedule
                    </button>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Room Schedule Modal/Section -->
    <div class="schedule-modal" *ngIf="selectedRoomId" (click)="closeSchedule()">
        <div class="schedule-modal-content" (click)="$event.stopPropagation()">
            <div class="schedule-modal-header">
                <h2>Room Schedule</h2>
                <button class="close-btn" (click)="closeSchedule()">âœ•</button>
            </div>
            <app-room-schedule [roomId]="selectedRoomId"></app-room-schedule>
        </div>
    </div>
</div>